<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xml:lang="en"
	  lang="en">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="phpUnderControl - The first CruiseControl integration tool for PHP development." />
	<meta name="keywords" content="phpUnderControl, web, Continuous Integration, CruiseControl, Quality Assurance" />
	<meta name="author" content="Manuel Pichler" />
	<meta name="language" content="en" />
	<meta name="date" content="Thu, 26 Feb 2009 19:19:29 +0100" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="FAQ" />
	<meta name="DC.creator" content="Manuel Pichler" />
	<meta name="DC.date" content="Thu, 26 Feb 2009 19:19:29 +0100" />
	<meta name="DC.rights" content="CC by-nc-sa" />

	<link rel="meta" href="/documentation/faq.rdf" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css?v=3" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css?v=3" media="print" />
	
	<link rel="icon" href="/favicon.png" type="image/png" />


	<script type="text/ecmascript">

// <![CDATA[
/**
 * Return a mail link constructed from the parameters. The order of the
 * parameters is a bit unintuitive to not match any common patterns easily.
 * This is obviously no challenge for a specialized bot.
 *
 * @param string host
 * @param string tld
 * @param string user
 * @return string
 */
function returnMailLink( element, host, tld, user )
{
	element.setAttribute( "href", "mailto:" + user + "@" + host + "." + tld );
}
// ]]>

	</script>

	<title>phpUnderControl</title>
</head>
<body>
<div id="wcv">
	<h1>
	  <a href="http://phpundercontrol.org">phpUnderControl</a>
	</h1>
    <ul class="navigation">
<li >
	<a href="/index.html" title="About">About</a>
	</li>
<li class="requested">
	<a href="/documentation/installation.html" title="Documentation">Documentation</a>
		<ul>
		<li >
	<a href="/documentation/installation.html" title="Installation">Installation</a>
	</li>
<li >
	<a href="/documentation/getting-started.html" title="Getting started">Getting started</a>
	</li>
<li >
	<a href="/documentation/tutorials.html" title="Tutorials">Tutorials</a>
	</li>
<li >
	<a href="/documentation/command-line.html" title="Command line">Command line</a>
	</li>
<li class="requested">
	<a href="/documentation/faq.html" title="FAQ">FAQ</a>
	</li>

	</ul>
</li>
<li >
	<a href="/screenshots.html" title="Screenshots">Screenshots</a>
	</li>
<li >
	<a href="/download.html" title="Download">Download</a>
	</li>

</ul>

		<div id="formats">
						
												
						<a href="/documentation/faq.rdf">Info</a>
 | 			<a href="/documentation/faq.html">HTML</a>
 | 			<a href="/documentation/faq.txt">Text</a>
		</div>

	<div id="content">
		<h2>Documentation - FAQ</h2><div class="toc"><h3>Table of Contents</h3><ul><li><p><a href="#invalid-file-or-directory-artifacts-bankaccount-coverage-index-html">Invalid File or Directory artifacts/BankAccount/.../coverage/index.html</a></p></li><li><p><a href="#how-do-i-perform-a-phpundercontrol-update">How do I perform a phpUnderControl update</a></p></li><li><p><a href="#i-updated-phpundercontrol-but-i-still-get-no-shiny-metric-charts">I updated phpUnderControl, but I still get no shiny Metric-Charts</a></p></li><li><p><a href="#no-tag-jmxbase-defined-in-tag-library-imported-with-prefix-cruisecontrol">No tag "jmxbase" defined in tag library imported with prefix "cruisecontrol"</a></p></li><li><p><a href="#i-get-an-error-about-an-invalid-checkstyle-xml-document">I get an error about an invalid checkstyle.xml document</a></p></li><li><p><a href="#are-there-any-example-configurations-for-phpundercontrol">Are there any example configurations for phpUnderControl?</a></p></li><li><p><a href="#pwc6033-unable-to-compile-class-for-jsp">PWC6033: Unable to compile class for JSP</a></p></li><li><p><a href="#why-some-parts-of-cruisecontrol-should-not-be-public-accessible">Why some parts of CruiseControl should not be public accessible</a></p></li><li><p><a href="#cruisecontrol-does-not-detect-executable-like-phpdoc-phpcs-phpunit">CruiseControl does not detect executable like phpdoc, phpcs, phpunit</a></p></li><li><p><a href="#nullpointerexception-when-accessing-artifacts">NullPointerException when accessing artifacts</a></p></li></ul></div><a name="invalid-file-or-directory-artifacts-bankaccount-coverage-index-html"></a><a name="id7"></a><h3>Invalid File or Directory artifacts/BankAccount/.../coverage/index.html</h3><p>If you get this or a similar error message, then your CruiseControl installation contains a directory named <em>artifacts</em>. If this directory exists, CruiseControl will always look for project artifacts in this directory. Simply change the <em>artifactpublisher</em>-tags in your <em>config.xml</em> from <em>logs/${project.name}</em> to <em>artifacts/${project.name}</em>. Now CruiseControl will move the generated contents into the expected directory.</p><a name="how-do-i-perform-a-phpundercontrol-update"></a><a name="id8"></a><h3>How do I perform a phpUnderControl update</h3><p>Even if the command name <strong>install</strong> is a little bit confusing, this command does both jobs, a fresh <em>install</em> or an <em>update</em> of an existing installation.</p><a name="i-updated-phpundercontrol-but-i-still-get-no-shiny-metric-charts"></a><a name="id9"></a><h3>I updated phpUnderControl, but I still get no shiny Metric-Charts</h3><p>You have updated phpUnderControl, but you still get the old metric charts. You must adjust the <em>publishers</em>-section of the <em>config.xml</em> for your existing projects to get new shiny charts, generated by phpUnderControl, from this.</p><code class="block">&lt;publishers&gt;
  &lt;execute command="phpuc graph logs/${project.name}"/&gt;
&lt;/publishers&gt;</code><p>If you use the <em>artifacts</em> folder for output you must add a second argument to the <em>graph</em> command.</p><code class="block">&lt;publishers&gt;
  &lt;execute command="phpuc graph logs/${project.name} artifacts/${project.name}" /&gt;
&lt;/publishers&gt;</code><p>This example is based on the PEAR installer and expects that <em>phpuc</em> is in the <em>PATH</em> environment variable. If you use the svn checkout, please change <em>phpuc</em> to <em>phpuc.php</em>.</p><a name="no-tag-jmxbase-defined-in-tag-library-imported-with-prefix-cruisecontrol"></a><a name="id10"></a><h3>No tag "jmxbase" defined in tag library imported with prefix "cruisecontrol"</h3><p>When you try to open the phpUnderControl dashboard and get this error message, then the used CruiseControl version is to old. The referenced <a href="http://nohn.org/blog/view/id/cruisecontrol_ant_and_phpunit">tutorial</a> mentions the version 2.4.1 that was ok and up to date in 2006, but please update your CruiseControl installation to a <a href="http://sourceforge.net/project/showfiles.php?group_id=23523">more recent version</a>.</p><a name="i-get-an-error-about-an-invalid-checkstyle-xml-document"></a><a name="id11"></a><h3>I get an error about an invalid checkstyle.xml document</h3><p>This could happen if you don't specify the optional @error attribute for the <a href="http://ant.apache.org/manual/CoreTasks/exec.html">ant exec task</a>. If this attribute is not specified every output, including all errors and warning, is logged into the checkstyle.xml document.</p><a name="are-there-any-example-configurations-for-phpundercontrol"></a><a name="id12"></a><h3>Are there any example configurations for phpUnderControl?</h3><p>Yes, phpUnderControl provides two full documented <a href="http://www.phpunit.de/browser/phpUnderControl/trunk/docs/build.xml">build.xml</a> and <a href="http://www.phpunit.de/browser/phpUnderControl/trunk/docs/config.xml">config.xml</a> files that can be found in the docs directory.</p><a name="pwc6033-unable-to-compile-class-for-jsp"></a><a name="id13"></a><h3>PWC6033: Unable to compile class for JSP</h3><p>After the last upgrade of phpUnderControl the dashboard only displays an error message "Type cannot be resolved"</p><code class="block">PWC6033: Unable to compile class for JSP

PWC6197: An error occurred at line: 63 in the jsp file: /dashboard.jsp
PWC6199: Generated servlet error:
ProjectInfos cannot be resolved to a type

...</code><p>Since version 0.4.7 phpUnderControl provides a php-under-control.jar file that is placed in the WEB-INF directory. This modification requires a CruiseControl restart, to let CruiseControl recognize the new jar files.</p><a name="why-some-parts-of-cruisecontrol-should-not-be-public-accessible"></a><a name="id14"></a><h3>Why some parts of CruiseControl should not be public accessible</h3><p>The CruiseControl dashboard contains a handy feature to edit the config.xml file online. This means everybody who has access to a public available CruiseControl instance can modify this file online. Therefore you should use something like mod_proxy to only allow access to the required sections of your CruiseControl installation.</p><a name="cruisecontrol-does-not-detect-executable-like-phpdoc-phpcs-phpunit"></a><a name="id15"></a><h3>CruiseControl does not detect executable like phpdoc, phpcs, phpunit</h3><p>You must add the <em>.bat</em> extension to the different PEAR executables when you use the windows operating system. So if you get an error message like:</p><code class="block">BUILD FAILED
D:\CC\projects\php\build.xml:113: Execute failed:
java.io.IOException: Cannot run program "phpdoc" (in directory "D:\CC\projects\php"):
CreateProcess error=2, The system cannot find the file specified</code><p>try to add a <em>.bat</em> extension to the @executable attribute of the &lt;exec /&gt; tags</p><code class="block">...
&lt;target name="phpdoc"&gt;
  &lt;exec executable="phpdoc.bat" dir="${basedir}"&gt;
    ...
  &lt;/exec&gt;
&lt;/target&gt;
...</code><a name="nullpointerexception-when-accessing-artifacts"></a><a name="id16"></a><h3>NullPointerException when accessing artifacts</h3><p>CruiseControl throws a NullPointerException when you access a page that contains artifacts or artifact links.</p><code class="block">[cc]Feb-26 11:49:28 tifactsLinkTag- project is /php-under-control
2009-02-26 11:49:28,667 [btpool0-6] INFO  ArtifactsLinkTag - project is /php-under-control
2009-02-26 11:49:28.805:/cruisecontrol:WARN:  http://arwen:8080/cruisecontrol/error.jsp: (null)
java.lang.NullPointerException
      at net.sourceforge.cruisecontrol.taglib.CruiseControlTagSupport.getXMLFile(CruiseControlTagSupport.java:134)
      at net.sourceforge.cruisecontrol.taglib.CruiseControlTagSupport.findLogFile(CruiseControlTagSupport.java:127)
      at net.sourceforge.cruisecontrol.taglib.ArtifactsLinkTag.getTimeString(ArtifactsLinkTag.java:98)</code><p>This will happen when your CruiseControl installation contains an <em>/artifacts</em> directory but your <a href="http://www.phpunit.de/browser/phpUnderControl/trunk/docs/config.xml#L141">config.xml</a> setup publishes artifacts into the <em>/logs</em> directory.</p>

	</div>
		
    <div id="info">
Revision <strong>13</strong>
           <ul>
<li>
    <p>
        Revision <strong>117</strong>
        by <strong>mapi</strong>
        at Thu, 26 Feb 2009 19:19:29 +0100
    </p>
    <p class="message">
        - Typo fixed.
    </p>
</li>
<li>
    <p>
        Revision <strong>116</strong>
        by <strong>mapi</strong>
        at Thu, 26 Feb 2009 19:17:13 +0100
    </p>
    <p class="message">
        - FAQ entry about artifacts and NullPointerException added.
    </p>
</li>
<li>
    <p>
        Revision <strong>115</strong>
        by <strong>mapi</strong>
        at Tue, 16 Dec 2008 20:53:59 +0100
    </p>
    <p class="message">
        - FAQ entry about the behavior of windows *.bat executables and the ant build.xml file added.
    </p>
</li>
<li>
    <p>
        Revision <strong>110</strong>
        by <strong>mapi</strong>
        at Wed, 10 Dec 2008 22:13:24 +0100
    </p>
    <p class="message">
        - New faq entry about the new install behavior of phpUnderControl since version 0.4.7.
    </p>
</li>
<li>
    <p>
        Revision <strong>106</strong>
        by <strong>mapi</strong>
        at Sun, 21 Sep 2008 12:13:34 +0200
    </p>
    <p class="message">
        - FAQ moved to Documentation section.<br />
- Layout of sub navigation improved
    </p>
</li>
<li>
    <p>
        Revision <strong>102</strong>
        by <strong>mapi</strong>
        at Sun, 21 Sep 2008 11:19:58 +0200
    </p>
    <p class="message">
        - Install/Update command documentation improved.
    </p>
</li>
<li>
    <p>
        Revision <strong>91</strong>
        by <strong>mapi</strong>
        at Wed, 10 Sep 2008 21:53:38 +0200
    </p>
    <p class="message">
        - Headline improved...
    </p>
</li>
<li>
    <p>
        Revision <strong>90</strong>
        by <strong>mapi</strong>
        at Wed, 10 Sep 2008 21:49:48 +0200
    </p>
    <p class="message">
        - kore&#039;s config edit warning added...
    </p>
</li>
<li>
    <p>
        Revision <strong>79</strong>
        by <strong>mapi</strong>
        at Sat, 26 Apr 2008 16:41:55 +0200
    </p>
    <p class="message">
        - FAQ entry about the example build.xml and config.xml file added.
    </p>
</li>
<li>
    <p>
        Revision <strong>69</strong>
        by <strong>mapi</strong>
        at Wed, 02 Apr 2008 10:30:41 +0200
    </p>
    <p class="message">
        - FAQ entry about invalid checkstyle.xml documents added.
    </p>
</li>
           </ul>
   <br />
    By
		<a href="" onclick="returnMailLink( this, 'manuel-pichler', 'de', 'mapi' );">Manuel Pichler</a>
	<br />
	At Thu, 26 Feb 2009 19:19:29 +0100
	<br />
</div>
        
	<div class="footer">
Revision <strong>13</strong> by
		<strong><a href="" onclick="returnMailLink( this, 'manuel-pichler', 'de', 'mapi' );">Manuel Pichler</a></strong>
	at <strong>Thu, 26 Feb 2009 19:19:29 +0100</strong>
	<br />
	Displayed with <a href="svn://kore-nordmann.de/wcv/trunk" title="Web Content Viewer">WCV</a>
	licensed under <a href="http://www.gnu.org/licenses/gpl.txt" title="GNU General Public License - Version 3">GPLv3</a>
</div>
</div>
</body>
</html>
